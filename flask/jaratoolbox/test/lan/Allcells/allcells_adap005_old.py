'''
List of all isolated units from adap011 that meet our criteria of good waveform, persistent firing across the whole session, and having enough spikes and good cluster shape (score#1, can be an inverted spike #6).
Here the persistent firing rate criterion is only based on looking at the ephy session associated with behavior even though all sessions (including noise test and tuning are clustered together)
'''

from jaratoolbox import celldatabase
reload(celldatabase)
import numpy as np

eSession = celldatabase.EphysSessionInfo  # Shorter name to simplify code


cellDB = celldatabase.CellDatabase()

'''
oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-14_16-23-21',
                 clustersEachTetrode = {1:[4,8],3:[4,6,10,11,12]},
                 behavSession = '20151214a')
cellDB.append_session(oneES)

#clusterQuality = {1:[3,4,2,1,2,4,2,1,3,2,2,2],2:[0,0,0,0,0,0,0,0,0,0,0,0],3:[3,4,2,1,3,1,2,2,2,1,1,1],4:[0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0,0,0],6:[0,0,0,0,0,0,0,0,0,0,0,0],7:[3,4,4,4,4,4,2,4,3,4,4,4],8:[0,0,0,0,0,0,0,0,0,0,0,0]}


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-15_14-02-08',
                 clustersEachTetrode = {1: np.array([2, 4]), 2: [], 3: [], 4: [], 5: np.array([2, 4, 6, 7, 8]), 6: np.array([ 2,  3,  4,  6,  8,  9, 10, 12]), 7: np.array([ 4, 10, 11]), 8: np.array([ 3,  6,  7, 10])},
                 behavSession = '20151215a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,2,1,3,2,2,2,3,2,3,4],2:[3,2,2,2,2,2,3,4,4,2,2,4],3:[3,2,2,2,2,2,2,2,3,2,2,4],4:[2,0,0,0,0,0,0,0,0,0,0,0],5:[3,1,2,1,2,1,1/4,1/4,2,2,4,3],6:[3,1,1,1,4,1,2,1,1,1,3,1],7:[3,2,2,1,3,3,4,2,2,1,1,4],8:[3,4,1,4,4,1,1,4,2,1,2,0]},
'''

oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-16_16-15-56',
                 clustersEachTetrode = {1: np.array([10, 12]), 2: [], 3: np.array([ 2,  5, 11]), 4: np.array([1]), 5: np.array([ 5,  7,  9, 11]), 6: np.array([ 4, 11]), 7: np.array([12]), 8: np.array([ 2,  3,  4,  5,  6,  7,  8,  9, 10])},
                 behavSession = '20151216a',
)
cellDB.append_session(oneES)
#clusterQuality = {1:[3,2,2,2,4,2,3,2,2,1,3,1],2:[3,2,2,2,4,2,2,2,2,3,3,2],3:[3,1,2,2,1,2,2,2,3,2,1,0],4:[1,0,0,0,0,0,0,0,0,0,0,0],5:[3,2,7,2,1,7,1,3,1,2,1,7],6:[3,4,2,1,3,2,4,3,2,2,1,4],7:[3,3,4,2,1/4,2,3,3,2,4,2,1],8:[3,1,1,1,1,1,1,1,1,1,2,4]},


'''
oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-17_15-19-45',
                 clustersEachTetrode = {1: np.array([5, 6]), 2: [], 3: np.array([4, 8, 9]), 4: np.array([ 3,  4,  6, 10, 11]), 5: np.array([ 3,  6,  7,  8,  9, 11, 12]), 6: np.array([6]), 7: np.array([ 3,  4,  5, 12]), 8: np.array([ 2,  4,  6,  7,  8,  9, 10])},
                 behavSession = '20151217a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,2,2,4,1,1,2,2,4,4,2,2],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,2,3,1,2,4,4,1,1,2,2,3],4:[3,4,1,1,2,1,2,3,2,1,1,4],5:[3,7,1,7,7,1,1,1,1,2,1,1],6:[3,4,2,2,3,1,2,4,2,2,4],7:[3,2,1,1,1,2,3,4,3,4,4,1],8:[3,1,2,1,4,1,1,1,1,1,4,0]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-18_13-50-13',
                 clustersEachTetrode = {1:[7,8,11],3:[4,6,11,12],4:[2,4,6,7,10],5:[2,3,4,8,9,10],6:[12],7:[2,3,7,9,12],8:[2,3,4,6,7,9,10,11,12]},
                 behavSession = '20151218a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,4,2,2,2,2,1,1,2,2,1,4],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,2,2,1,2,1,2,2,2,4,1,1],4:[3,1,2,1,3,1,1,2,2,1,4,2],5:[3,1,1,1,2,3,2,1,1,1,2,4],6:[3,3,2,2,4,2,2,4,4,4,4,1],7:[3,1,1,4,3,4,1,2,1,4,2,1],8:[3,1,1,1,4,1,1,2,1,1,1,1]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-19_18-00-14',
                 clustersEachTetrode = {1:[3,4],2:[1],3:[2,4,5,6,7],4:[6,7,8,9,12],5:[4,5,7,9,10],7:[8,9,11],8:[2,3,4,5,6,7,8,9,10,11]},
                 behavSession = '20151219a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,2,1,1,2,4,2,2,4,4,4,2],2:[6,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,3,1,1,1,1,2,2,2,4,7],4:[3,2,2,2,2,1,1,1,1,2,3,1],5:[3,2,4,1,1,3,1,2,1,1,2,0],6:[3,5,4,4,3,4,3,4,2,2,2,4],7:[3,3,4,4,4,4,4,1,1,2,1/4,3],8:[3,1,1,1,1,1,1,1,1,1,1,2]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-21_16-50-58',
                 clustersEachTetrode = {1:[2,3,8,9,12],3:[2,3,7,8,9,11],4:[2,4,6,8,10],5:[3,5,6,9,10,11,12],6:[3,5,9],7:[3,5,8],8:[2,4,5,6,7,8,9,10,11,12]},
                 behavSession = '20151221a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,1,2,4,2,2,1,1,4,3,1],2:[4,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,1,3,2,2,1,1,1,3,1,0],4:[3,1,2,1,2,1,2,1,5,1,3,2],5:[3,2,1,2,1,1,3,2,1,1,1,1],6:[3,3,1,2,1,4,3,4,1,4,2,0],7:[3,3,1,2,1,4,2,1,4,2,2,3],8:[3,1,3,1,1,1,1,1,1,1,1,1]} #with peak and valley-first-half
#clusterQuality = {7:[3,2,2,4,4,1,3,4,1/4,1,2,3],8:[3,1,1,1,1,1,3,4,1,1,1,1]} #with peak, valley, and energy

oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-22_15-24-04',
                 clustersEachTetrode = {1:[2,3,4,5,8,10,12],3:[3,5,7,8,9,11,12],4:[2,4,5,6,8,10,11,12],5:[2,3,4,5,6,7,8,12],7:[2,3,6,7,10],8:[2,3,4,5,6,8,10,11]},
                 behavSession = '20151222a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,1,1,1/4,4,3,1,4,1,3,1],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,3,1,6,1,2,1,1,1,4,1,1],4:[3,1,2,1,1,1,2,1,3,1,1,1],5:[3,1,1,1,1,1,1,1,2,6,3,1],6:[3,4,4,3,4,4,4,4,4,3,4,4],7:[3,1,1,2,4,1,1/4,4,3,1,3,2],8:[3,1,1,1,1,1,2,1,4,1,1,6]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-23_14-41-00',
                 clustersEachTetrode = {1:[3,4,5,7,8,12],3:[2,3,4,5,7,8,9,11,12],4:[3,4,7,8,9,10],5:[3,4,6,7,8,9,10,11],6:[7],7:[2,3,4,5,11],8:[2,4,5,8,9,10,11]},
                 behavSession = '20151223a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,2,1,1,1,4,1,1,2,2,4,1/4],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,1,1,1,3,1,1,1,6,1,1],4:[3,2,1,1,3,6,1,1,1,1,2,4],5:[3,6,1,1,6,1,1,1,1,1,1,0],6:[3,4,4,3,3,4,1,4,4,4,2,0],7:[3,1,1/4,1,1,4,4,2,3,3,1/4,6],8:[3,1,4,1,1,6,3,1,1,1,1,4]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2015-12-24_14-43-57',
                 clustersEachTetrode = {1:[2,3,4,5,6,9,12],3:[2,3,4,5,6,7,8,10,11,12],4:[2,3,4,5,7,8,9,10,11,12],5:[4,5,6,7,8,9,12],6:[9],7:[3,7,9],8:[2,4,5,6,9,10,11]},
                 behavSession = '20151224a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,1,1,1,1,3,2,1,4,2,1],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,1,1,1,1,1,1,3,1,1,1],4:[3,1,1,1,1,3,1,1,1,1,1,1],5:[3,3,6,1,1,1,1,1,1,2,3,1],6:[3,2,2,4,2,4,4,3,1,3,4,5],7:[3,4,1,2,4,3,1/4,3,1,4,4,4],8:[3,1,4,1,1,1,6,3,1,1,1,4]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2016-01-08_11-38-00',
                 clustersEachTetrode = {1:[2,3,4,8,10,11],3:[4,5,6,8,9,10,11],4:[4,5,7,8,9,10,11],5:[3,4,6,7,8,9,10,11,12],6:[4,5,6,9],7:[6,7,9],8:[2,3,5,6,7,10,11,12]},
                 behavSession = '20160108a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,1,1,3,4,4,1,3,1,1,2],2:[3,0,0,0,0,0,0,0,0,0,0,0],3:[3,4,4,1,1,1,3,1,1,1,1/4,3],4:[3,3,4,1,1,4,1,1,1,1,1,4],5:[3,4,1,1,3,1,1,1,1,1,1],6:[3,4,3,1,1,1,4,4,1,3,2,3],7:[3,2,4,2,3,1,1,3,1,4,3,3],8:[3,1,1,3,1,1/4,1,3,2,1,1/4,1]},


oneES = eSession(animalName='adap005',
                 ephysSession = '2016-01-09_14-21-47',
                 clustersEachTetrode ={1: np.array([ 2,  4,  5,  6,  7,  8, 12]), 2: [], 3: np.array([ 2,  3,  5,  8,  9, 10, 12]), 4: np.array([ 2,  3,  4,  5,  6,  8,  9, 10, 11, 12]), 5: np.array([ 2,  3,  4,  5,  6,  7,  8,  9, 10, 11]), 6: np.array([ 4,  5, 12]), 7: np.array([11]), 8: np.array([ 2,  4,  5,  7,  8,  9, 10, 11])},
                 behavSession = '20160109a')
cellDB.append_session(oneES)
#clusterQuality = {1:[3,1,4,1,1,1,1,1,2,4,2,1],2:[4,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,1,4,1,2,4,1,1,1,2,1],4:[3,1,1,1,1,1,2,1,1,1,1,1],5:[3,1,1,1,1,1,1,1,1,1,1,0],6:[3,4,4,1,1,4,4,4,3,3,2,1],7:[3,4,3,4,2,4,4,2,4,2,1,2],8:[3,1,4,1,1,4,1,1,1,1,1,4]}


oneES = eSession(animalName='adap005',
                 ephysSession = '2016-01-10_15-55-57',
                 clustersEachTetrode ={1: np.array([2, 9]), 2: [], 3: np.array([2, 3, 4, 5, 6, 7, 8]), 4: np.array([ 6, 10, 11]), 5: np.array([ 2,  3,  5,  6,  7,  8,  9, 10, 11, 12]), 6: np.array([11]), 7: np.array([4]), 8: np.array([ 4,  7,  8,  9, 10, 11])},
                 behavSession = '20160110a')
cellDB.append_session(oneES)
#clusterQuality={1:[3,1,2,2,4,3,2,4,1,4,2],2:[4,0,0,0,0,0,0,0,0,0,0,0],3:[3,1,1,1,1,1,1,1,4,2,4,3],4:[3,2,4,2,4,1,4,4,2,1,1,4],5:[3,1,1,3,1,1,1,1,1,1,1,1],6:[3,4,4,4,4,4,4,3,4,4,1,0],7:[3,3,3,1,3,3,2,3,2,4,4,3],8:[3,3,4,1,4,4,1,1,1,1,1,4]}

'''
