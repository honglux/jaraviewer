
'''
Example of using spikesorting module (which uses KlustaKwik) for spike sorting
'''

from jaratoolbox import spikesorting
reload(spikesorting)



animalName = 'test017'
ephysSessionArray = ['2015-03-03_18-44-50','2015-03-04_14-56-53','2015-03-05_15-48-15','2015-03-06_14-12-25']
#test055['2015-03-03_11-42-14','2015-03-04_13-02-28','2015-03-05_14-12-36','2015-03-06_12-30-25','2015-03-07_21-00-17','2015-03-08_21-05-54']
#test017['2015-02-25_14-04-30','2015-02-26_16-31-05','2015-02-27_14-55-39','2015-02-28_20-10-50','2015-03-01_18-37-39','2015-03-02_15-32-56']
#test055['2015-02-26_13-06-01','2015-02-27_13-15-39','2015-02-28_19-02-10','2015-03-01_16-53-27','2015-03-02_13-35-20']
#['2015-02-20_11-42-48','2015-02-21_18-38-13','2015-02-22_22-42-06','2015-02-23_13-23-03','2015-02-24_13-19-06','2015-02-25_12-38-09']
#test055['2015-02-11_16-36-03','2015-02-12_11-36-47','2015-02-13_11-16-20','2015-02-14_14-24-36','2015-02-16_15-50-57','2015-02-20_11-42-48','2015-02-21_18-38-13','2015-02-22_22-42-06','2015-02-23_13-23-03','2015-02-24_13-19-06','2015-02-25_12-38-09']
#test017['2015-02-17_12-26-10','2015-02-21_20-08-51','2015-02-23_15-31-40']
#test055['2015-01-07_17-37-14','2015-01-08_16-14-41','2015-01-09_16-41-49','2015-01-10_21-45-52','2015-01-11_16-15-53','2015-01-12_17-10-52','2015-01-13_15-17-35','2015-01-14_16-04-16','2015-01-15_14-38-04','2015-01-16_17-13-23','2015-01-17_18-29-02','2015-01-18_21-33-33','2015-01-19_16-46-59','2015-01-20_16-06-16']#['2014-12-19_14-36-45','2014-12-22_11-42-00','2014-12-23_15-50-14','2014-12-24_17-11-53','2014-12-26_18-07-12']

for indEphys,ephysSession in enumerate(ephysSessionArray):
    for tetrode in range(1,9):
        oneTT = spikesorting.TetrodeToCluster(animalName,ephysSession,tetrode)
        oneTT.create_fet_files()
        oneTT.run_clustering()
        oneTT.save_report()
'''
tetrode = 2
for indEphys,ephysSession in enumerate(ephysSessionArray):
    oneTT = spikesorting.TetrodeToCluster(animalName,ephysSession,tetrode)
    oneTT.create_fet_files()
    #oneTT.run_clustering()
    #oneTT.save_report()
'''
